<!doctype html>
<html>
<head>
<link rel="stylesheet" href="style.css">
<script src="https://www.youtube.com/player_api"></script>
</head>
<body><div class="menu1">
<a href="">Main</a>
<a href="">About us</a>
<a href="">Portfolio</a>
<a href="">Contact us</a></div><br>
<div class="menu">
<img src="cleaning.jpg" id="main">
<table align=center>
<tr>
<td><img src=gipsolarton.jpg></td>
<td><img src=pokraska.jpg></td>
<td><img src=handyman.jpg></td>
<td><img src=welding.jpg></td>
</tr><tr class="menu">
<td><a href="">Drywall Instalation</a></td>
<td><a href="">Painting</a></td>
<td><a href="">Handyman Services</a></td>
<td><a href="">Landscapers work</a></td>
</tr><br>
</div>
<div id="player"></div>
  <div id="videos">
    <div class="video" data-id="ghiraxIL8YE">Video1</div>
    <div class="video" data-id="H_0QTJ3NKPs">Video2</div>
    <div class="video" data-id="ghiraxIL8YE">Video3</div>
    <div class="video" data-id="ghiraxIL8YE">Video4</div>
  </div>
  <script>
    var player;
    var videos = document.getElementsByClassName('video');
    var currentVideo = 0;

    function onYouTubePlayerAPIReady() {
      player = new YT.Player('player', {
        videoId: videos[currentVideo].getAttribute('data-id'),
        playerVars: {
          'autoplay': 1,
          'controls': 1,
          'loop': 0,
          'rel': 0,
          'showinfo': 0,
          'modestbranding': 1
        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }

    function onPlayerReady(event) {
      event.target.playVideo();
    }

    function onPlayerStateChange(event) {
      if (event.data == YT.PlayerState.ENDED) {
        currentVideo++;
        if (currentVideo < videos.length) {
          player.loadVideoById(videos[currentVideo].getAttribute('data-id'));
        } else {
          currentVideo = 0;
          player.loadVideoById(videos[currentVideo].getAttribute('data-id'));
        }
      }
    }

    for (var i = 0; i < videos.length; i++) {
      videos[i].addEventListener('click', function() {
        player.loadVideoById(this.getAttribute('data-id'));
        currentVideo = Array.prototype.indexOf.call(videos, this);
      });
    }
  </script>
</body>
</html>
